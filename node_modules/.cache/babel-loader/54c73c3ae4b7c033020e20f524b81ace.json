{"ast":null,"code":"var _jsxFileName = \"D:\\\\fronend\\\\calculator\\\\src\\\\App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nconst defaultState = {\n  calcScreen: \"0\",\n  calcOperation: \"\",\n  isEqual: false\n};\nconst endWithOperator = /[*+-/]$/;\nconst endWithMinus = /\\d{1,}[*+/]-$/;\nconst doubleOperation = /\\d{1,}[*+-/][*+-/]-$/;\nconst OPERATIONS = {\n  \"+\": \"+\",\n  \"−\": \"-\",\n  x: \"*\",\n  \"/\": \"/\"\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n    this.onClickValue = this.onClickValue.bind(this);\n  }\n\n  onClickValue(event) {\n    const value = event.target.innerText;\n\n    if (value === \"C\") {\n      this.setState(defaultState);\n    } else if ([\"+\", \"−\", \"x\", \"/\"].includes(value)) {\n      if (this.state.isEqual) {\n        this.setState({\n          calcOperation: this.state.calcScreen + OPERATIONS[value],\n          isEqual: false,\n          calcScreen: \"\"\n        });\n      } else {\n        console.log((this.state.calcOperation + this.state.calcScreen + \"-\").match(endWithOperator));\n        let screen = this.state.calcOperation + this.state.calcScreen;\n        this.setState({\n          calcScreen: \"\",\n          calcOperation: screen.match(endWithOperator) ? (screen + OPERATIONS[value]).match(endWithMinus) ? screen + OPERATIONS[value] : screen.match(doubleOperation) ? this.state.calcOperation.slice(0, this.state.calcOperation.length - 2) + OPERATIONS[value] : this.state.calcOperation.slice(0, this.state.calcOperation.length - 1) + OPERATIONS[value] : screen + OPERATIONS[value]\n        });\n      }\n    } else if ([\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"].includes(value)) {\n      if (this.state.calcScreen === \"0\" || this.state.isEqual) {\n        this.setState({\n          calcScreen: value\n        });\n\n        if (this.state.isEqual) {\n          this.setState({\n            calcOperation: \"\",\n            isEqual: false\n          });\n        }\n      } else {\n        this.setState({\n          calcScreen: this.state.calcScreen + value\n        });\n      }\n    } else if (\".\" === value && this.state.calcScreen.search(\"\\\\.\") < 0) {\n      this.setState({\n        calcScreen: this.state.calcScreen + value\n      });\n    } else if (\"=\" === value && this.state.calcOperation) {\n      try {\n        this.setState({\n          calcScreen: eval(this.state.calcOperation + this.state.calcScreen),\n          calcOperation: this.state.calcOperation + this.state.calcScreen + value + eval(this.state.calcOperation + this.state.calcScreen),\n          isEqual: true\n        });\n      } catch (error) {\n        this.setState({\n          calcScreen: \"NaN\",\n          calcOperation: \"\"\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-operation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, this.state.calcOperation), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-typed\",\n      id: \"display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, this.state.calcScreen)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-button-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button c\",\n      onClick: this.onClickValue,\n      id: \"clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"C\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, \"\\u2260\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, \"%\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      onClick: this.onClickValue,\n      id: \"divide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"/\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-button-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"seven\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"eight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"nine\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      onClick: this.onClickValue,\n      id: \"multiply\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"x\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-button-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"four\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"five\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"six\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      onClick: this.onClickValue,\n      id: \"subtract\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"\\u2212\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-button-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"one\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"two\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"three\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      onClick: this.onClickValue,\n      id: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-button-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"decimal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, \".\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      onClick: this.onClickValue,\n      id: \"zero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, \"0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"\\xB1\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button l\",\n      onClick: this.onClickValue,\n      id: \"equals\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, \"=\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/fronend/calculator/src/App.js"],"names":["React","defaultState","calcScreen","calcOperation","isEqual","endWithOperator","endWithMinus","doubleOperation","OPERATIONS","x","App","Component","constructor","props","state","onClickValue","bind","event","value","target","innerText","setState","includes","console","log","match","screen","slice","length","search","eval","error","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\n\nconst defaultState = {\n  calcScreen: \"0\",\n  calcOperation: \"\",\n  isEqual: false,\n};\n\nconst endWithOperator = /[*+-/]$/;\nconst endWithMinus = /\\d{1,}[*+/]-$/;\nconst doubleOperation = /\\d{1,}[*+-/][*+-/]-$/;\n\nconst OPERATIONS = { \"+\": \"+\", \"−\": \"-\", x: \"*\", \"/\": \"/\" };\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n    this.onClickValue = this.onClickValue.bind(this);\n  }\n\n  onClickValue(event) {\n    const value = event.target.innerText;\n\n    if (value === \"C\") {\n      this.setState(defaultState);\n    } else if ([\"+\", \"−\", \"x\", \"/\"].includes(value)) {\n      if (this.state.isEqual) {\n        this.setState({\n          calcOperation: this.state.calcScreen + OPERATIONS[value],\n          isEqual: false,\n          calcScreen: \"\",\n        });\n      } else {\n        console.log(\n          (this.state.calcOperation + this.state.calcScreen + \"-\").match(\n            endWithOperator\n          )\n        );\n        let screen = this.state.calcOperation + this.state.calcScreen;\n        this.setState({\n          calcScreen: \"\",\n          calcOperation: screen.match(endWithOperator)\n            ? (screen + OPERATIONS[value]).match(endWithMinus)\n              ? screen + OPERATIONS[value]\n              : screen.match(doubleOperation)\n              ? this.state.calcOperation.slice(\n                  0,\n                  this.state.calcOperation.length - 2\n                ) + OPERATIONS[value]\n              : this.state.calcOperation.slice(\n                  0,\n                  this.state.calcOperation.length - 1\n                ) + OPERATIONS[value]\n            : screen + OPERATIONS[value],\n        });\n      }\n    } else if (\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"].includes(value)\n    ) {\n      if (this.state.calcScreen === \"0\" || this.state.isEqual) {\n        this.setState({\n          calcScreen: value,\n        });\n        if (this.state.isEqual) {\n          this.setState({ calcOperation: \"\", isEqual: false });\n        }\n      } else {\n        this.setState({\n          calcScreen: this.state.calcScreen + value,\n        });\n      }\n    } else if (\".\" === value && this.state.calcScreen.search(\"\\\\.\") < 0) {\n      this.setState({\n        calcScreen: this.state.calcScreen + value,\n      });\n    } else if (\"=\" === value && this.state.calcOperation) {\n      try {\n        this.setState({\n          calcScreen: eval(this.state.calcOperation + this.state.calcScreen),\n          calcOperation:\n            this.state.calcOperation +\n            this.state.calcScreen +\n            value +\n            eval(this.state.calcOperation + this.state.calcScreen),\n          isEqual: true,\n        });\n      } catch (error) {\n        this.setState({\n          calcScreen: \"NaN\",\n          calcOperation: \"\",\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"calc-body\">\n          <div className=\"calc-screen\">\n            <div className=\"calc-operation\">{this.state.calcOperation}</div>\n            <div className=\"calc-typed\" id=\"display\">\n              {this.state.calcScreen}\n              {/* <span className=\"blink-me\">_</span> */}\n            </div>\n          </div>\n          <div className=\"calc-button-row\">\n            <div className=\"button c\" onClick={this.onClickValue} id=\"clear\">\n              C\n            </div>\n            <div className=\"button l\">≠</div>\n            <div className=\"button l\">%</div>\n            <div className=\"button l\" onClick={this.onClickValue} id=\"divide\">\n              /\n            </div>\n          </div>\n          <div className=\"calc-button-row\">\n            <div className=\"button\" onClick={this.onClickValue} id=\"seven\">\n              7\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"eight\">\n              8\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"nine\">\n              9\n            </div>\n            <div className=\"button l\" onClick={this.onClickValue} id=\"multiply\">\n              x\n            </div>\n          </div>\n          <div className=\"calc-button-row\">\n            <div className=\"button\" onClick={this.onClickValue} id=\"four\">\n              4\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"five\">\n              5\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"six\">\n              6\n            </div>\n            <div className=\"button l\" onClick={this.onClickValue} id=\"subtract\">\n              −\n            </div>\n          </div>\n          <div className=\"calc-button-row\">\n            <div className=\"button\" onClick={this.onClickValue} id=\"one\">\n              1\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"two\">\n              2\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"three\">\n              3\n            </div>\n            <div className=\"button l\" onClick={this.onClickValue} id=\"add\">\n              +\n            </div>\n          </div>\n          <div className=\"calc-button-row\">\n            <div className=\"button\" onClick={this.onClickValue} id=\"decimal\">\n              .\n            </div>\n            <div className=\"button\" onClick={this.onClickValue} id=\"zero\">\n              0\n            </div>\n            <div className=\"button\">\n              <span>&#177;</span>\n            </div>\n            <div className=\"button l\" onClick={this.onClickValue} id=\"equals\">\n              =\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}